<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
       $(document).ready(function(){
    $('#dataTables').DataTable();
    });
        
    </script>
   
        <title>MENU</title>
    <link rel="stylesheet" href="https://bootswatch.com/5/zephyr/bootstrap.css">
    
  </head>
  <body>

    <style>
      /* รูปแบบ Nav Link เมื่อไม่ชี้ */
      .nav-link {
        color: rgb(0, 13, 65); /* สีข้อความเมื่อไม่ชี้ */
        background-color: transparent; /* เพิ่มสีพื้นหลังให้เป็นโปร่งแสงเมื่อไม่ชี้ */
        transition: color 0.3s, background-color 0.3s; /* เพิ่มเอฟเฟกต์เมื่อเปลี่ยนสีข้อความและสีพื้นหลัง */
      }
    
      /* พื้นหลังเมนูเมื่อชี้ */
      .nav-link:hover {
        background-color: #0056b3; /* สีพื้นหลังเมื่อชี้ (สีฟ้า) */
        color: white; /* สีข้อความเมื่อชี้ */
      }
    
      /* เพิ่มเอฟเฟกต์เมื่อนำเมาส์ไปชี้ที่ไอคอนหรือรูปภาพ */
      .nav-link i {
        font-size: 20px; /* ขนาดของไอคอนหรือรูปภาพ */
        transition: transform 0.3s; /* เพิ่มเอฟเฟกต์การหมุนเมื่อชี้ */
      }
    
      /* เพิ่มการหมุนเมื่อนำเมาส์ไปชี้ที่ไอคอนหรือรูปภาพ */
      .nav-link:hover i {
        transform: rotate(45deg); /* หมุนไอคอนหรือรูปภาพ 45 องศาเมื่อชี้ */
      }
    </style>
    <div>
    <ul class="nav nav-pills">
      <li class="nav-item">
        <a href="/calendar" class="nav-link" style="color: white;">
          <i class="bi bi-house"></i> <!-- ไอคอนหรือรูปภาพสำหรับหน้าหลัก -->
          หน้าหลัก
        </a>
      </li>
      <li class="nav-item">
        <a href="/location_rs/list" class="nav-link" style="color: white;">
          <i class="bi bi-bookmark"></i> <!-- ไอคอนหรือรูปภาพสำหรับหน้าจอง -->
          จอง
        </a>
      </li>
      <li class="nav-item">
        <a href ="/reserve/list" class="nav-link" style="color: white;">
          <i class="bi-list"></i> <!-- ไอคอนหรือรูปภาพสำหรับรายการจอง -->
          รายการจอง
        </a>
      </li>
      <li class="nav-item">
        <a href="/type_lo/list" class="nav-link" style="color: white;">
          <i class="bi bi-tag"></i> <!-- ไอคอนหรือรูปภาพสำหรับประเภทของสถานที่ -->
          ประเภทของสถานที่
        </a>
      </li>
    </ul>
</div>

    
    <script>
      // เพิ่มฟังก์ชันตรวจสอบค่าซ้ำ
      function checkDuplicateReservation() {
          const roomname = document.getElementById("roomnameSelect").value;
          const startDatetime = new Date(document.getElementById("startdatetime").value);
          const endDatetime = new Date(document.getElementById("enddatetime").value);
  
          // เรียกใช้ฟังก์ชัน checkIfReservationIsDuplicate เพื่อตรวจสอบการจองซ้ำ
          const isDuplicate = checkIfReservationIsDuplicate(roomname, startDatetime, endDatetime);
  
          if (isDuplicate) {
              // แสดงป๊อบอัพแจ้งเตือน
              alert("ชื่อห้องและเวลาที่คุณเลือกมีการจองแล้ว กรุณาเลือกวันที่หรือเวลาอื่น ๆ หรือห้องอื่น ๆ.");
              return false; // ยกเลิกการยื่นแบบฟอร์ม
          }
  
          return true; // อนุญาตให้ยื่นแบบฟอร์ม
      }
  
      // เพิ่มฟังก์ชัน checkIfReservationIsDuplicate สำหรับตรวจสอบความซ้ำของการจอง
      function checkIfReservationIsDuplicate(roomname, startDatetime, endDatetime) {
          // ... (โค้ดตรวจสอบความซ้ำอยู่ตรงนี้)
  
          return isDuplicate;
      }
  </script>
  
    
    
    

    
    
    <% if(session.success==false){ %>
      <% for(var i=0; i<session.errors.errors.length; i++){ %>
        <div class="alert alert-danger" role="alert">
          <%= session.errors.errors[i]["msg"]  %>
        </div>
      <% } session.success=null; } %>
    <br>
    <br>
    <br>
    <% if(session.success==true){ %>
      <div class="alert alert-success" role="alert">
        <%= session.topic %>
      </div>
    <% } session.success=null; %>
</body>
</html>
